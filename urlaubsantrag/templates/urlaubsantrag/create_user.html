{% extends "urlaubsantrag/main.html" %}
{% load static %}

{% block details %}
    {% load crispy_forms_filters %}

    {% if user.is_authenticated %}

        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-10 col-lg-12 col-md-9">
                    <div class="card o-hidden border-0 shadow-lg my-5">
                        <div class="card-body rounded hr-text hr-secondary p-2" style="border-radius: 30px;">
                            <div class="p-5">

                                <div class="text-center">
                                    <h1 class="h4 mb-4">Nutzer Erstellen</h1>
                                </div>

                                <form method="POST" action="." class="form">
                                    {% csrf_token %}
                                    <div class="form-group my-4">
                                        <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                                        <input type="email" name="{{ form.email.name }}"
                                               id="{{ form.email.id_for_label }}" value="{% if form.email.value %}{{ form.email.value }}{% endif %}" class="form-control">
                                        {% if form.email.errors %}
                                            <div class="error">{{ form.email.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
                                        <input type="text" name="{{ form.first_name.name }}"
                                               id="{{ form.first_name.id_for_label }}" value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}" class="form-control">
                                        {% if form.first_name.errors %}
                                            <div class="error">{{ form.first_name.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
                                        <input type="text" name="{{ form.last_name.name }}"
                                               id="{{ form.last_name.id_for_label }}" value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}" class="form-control">
                                        {% if form.last_name.errors %}
                                            <div class="error">{{ form.last_name.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.abbreviation.id_for_label }}">{{ form.abbreviation.label }}</label>
                                        <input type="text" name="{{ form.abbreviation.name }}"
                                               id="{{ form.abbreviation.id_for_label }}" value="{% if form.abbreviation.value %}{{ form.abbreviation.value }}{% endif %}" class="form-control">
                                        {% if form.abbreviation.errors %}
                                            <div class="error">{{ form.abbreviation.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.staff_nr.id_for_label }}">{{ form.staff_nr.label }}</label>
                                        <input type="text" name="{{ form.staff_nr.name }}"
                                               id="{{ form.staff_nr.id_for_label }}" value="{% if form.staff_nr.value %}{{ form.staff_nr.value }}{% endif %}" class="form-control">
                                        {% if form.staff_nr.errors %}
                                            <div class="error">{{ form.staff_nr.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.vacation_entitlement.id_for_label }}">{{ form.vacation_entitlement.label }}</label>
                                        <input type="text" name="{{ form.vacation_entitlement.name }}"
                                               id="{{ form.vacation_entitlement.id_for_label }}" value="{% if form.vacation_entitlement.value %}{{ form.vacation_entitlement.value }}{% endif %}" class="form-control">
                                        {% if form.vacation_entitlement.errors %}
                                            <div class="error">{{ form.vacation_entitlement.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
                                        <input type="password" name="{{ form.password.name }}"
                                               id="{{ form.password.id_for_label }}" value="{% if form.password.value %}stop{% endif %}" class="form-control">
                                        {% if form.password.errors %}
                                            <div class="error">{{ form.password.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.department.id_for_label }}">{{ form.department.label }}</label>
                                        <select name="{{ form.department.name }}" id="{{ form.department.id_for_label }}" class="form-control">
                                            {% for choice in form.department.field.choices %}
                                                <option value="{{ choice.0 }}" {% if form.department.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                            {% endfor %}
                                        </select>
                                        {% if form.department.errors %}
                                            <div class="error">{{ form.department.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.employee_admin_level.id_for_label }}">{{ form.employee_admin_level.label }}</label>
                                        <select name="{{ form.employee_admin_level.name }}" id="{{ form.employee_admin_level.id_for_label }}" class="form-control">
                                            {% for choice in form.employee_admin_level.field.choices %}
                                                <option value="{{ choice.0 }}" {% if form.employee_admin_level.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                            {% endfor %}
                                        </select>
                                        {% if form.employee_admin_level.errors %}
                                            <div class="error">{{ form.employee_admin_level.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.country.id_for_label }}">{{ form.country.label }}</label>
                                        <select name="{{ form.country.name }}" id="{{ form.country.id_for_label }}" class="form-control">
                                            {% for choice in form.country.field.choices %}
                                                <option value="{{ choice.0 }}" {% if form.country.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                            {% endfor %}
                                        </select>
                                        {% if form.country.errors %}
                                            <div class="error">{{ form.country.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group my-4">
                                        <label for="{{ form.province.id_for_label }}">{{ form.province.label }}</label>
                                        <select name="{{ form.province.name }}" id="{{ form.province.id_for_label }}" class="form-control">
                                            {% for choice in form.province.field.choices %}
                                                <option value="{{ choice.0 }}" {% if form.province.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                            {% endfor %}
                                        </select>
                                        {% if form.province.errors %}
                                            <div class="error">{{ form.province.errors|join:", " }}</div>
                                        {% endif %}
                                    </div>

                                    <button class="btn btn-primary btn-user btn-block m-2 p-2">Erstellen</button>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    {% endif %}

{% endblock %}